<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Táº¡o bÃ i há»c â€“ Lá»›p 5/4</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Icons -->
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

<style>
textarea { min-height: 200px; }
</style>
</head>

<body class="bg-gray-100 p-6">

<div class="max-w-5xl mx-auto bg-white rounded-xl shadow p-6 space-y-6">

<h1 class="text-3xl font-bold">ğŸ“ Táº¡o bÃ i há»c má»›i</h1>

<!-- THÃ”NG TIN -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
  <input id="title" placeholder="TiÃªu Ä‘á» bÃ i há»c"
    class="border rounded-lg p-3 w-full">
  <input id="lesson" placeholder="Tiáº¿t sá»‘ (VD: 12)"
    class="border rounded-lg p-3 w-full">
</div>

<!-- TOOLBAR -->
<div class="flex flex-wrap gap-2 border rounded-lg p-2 bg-gray-50">
  <button onclick="addText()" class="btn">ğŸ“ VÄƒn báº£n</button>
  <button onclick="addVideo()" class="btn">ğŸ¬ Video</button>
  <button onclick="addPPT()" class="btn">ğŸ“Š PPT Google Slides</button>
  <button onclick="addQuiz()" class="btn">âœ… Tráº¯c nghiá»‡m</button>
  <button onclick="addFill()" class="btn">âœï¸ Äiá»n khuyáº¿t</button>
</div>

<!-- Ná»˜I DUNG -->
<textarea id="content" class="w-full border rounded-lg p-4"
placeholder="Ná»™i dung bÃ i há»c sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y..."></textarea>

<!-- ACTION -->
<div class="flex justify-end gap-3">
  <button onclick="preview()" class="px-4 py-2 rounded bg-gray-300">Xem trÆ°á»›c</button>
  <button onclick="saveLesson()" class="px-6 py-2 rounded bg-yellow-400 font-bold">
    ğŸ’¾ LÆ°u bÃ i há»c
  </button>
</div>

</div>

<!-- SCRIPT -->
<script>
const content = document.getElementById("content");

function insert(html) {
  content.value += "\n" + html + "\n";
}

/* ===== CÃ”NG Cá»¤ ===== */
function addText() {
  insert("<p>Nháº­p ná»™i dung bÃ i há»c...</p>");
}

function addVideo() {
  const url = prompt("DÃ¡n link YouTube:");
  if (!url) return;
  const id = url.split("v=")[1];
  insert(`
<iframe width="100%" height="400"
src="https://www.youtube.com/embed/${id}"
allowfullscreen></iframe>`);
}

function addPPT() {
  const url = prompt("DÃ¡n link Google Slides:");
  const id = url.match(/presentation\/d\/([^\/]+)/);
  if (!id) return alert("Link khÃ´ng há»£p lá»‡");
  insert(`
<iframe width="100%" height="480"
src="https://docs.google.com/presentation/d/${id[1]}/embed"
allowfullscreen></iframe>`);
}

function addQuiz() {
  insert(`
<div class="quiz">
<p><b>CÃ¢u há»i:</b> ...?</p>
<ul>
<li><input type="radio"> A</li>
<li><input type="radio"> B</li>
<li><input type="radio"> C</li>
</ul>
</div>`);
}

function addFill() {
  insert(`<p>Äiá»n vÃ o chá»— trá»‘ng: 5 Ã— ___ = 25</p>`);
}

/* ===== XEM TRÆ¯á»šC ===== */
function preview() {
  const w = window.open();
  w.document.write(content.value);
}

/* ===== LÆ¯U FILE ===== */
function saveLesson() {
  const title = document.getElementById("title").value || "BÃ i há»c";
  const lesson = document.getElementById("lesson").value || "x";

  const html = `
<!DOCTYPE html>
<html lang="vi">
<head><meta charset="UTF-8">
<title>${title}</title></head>
<body>
<h1>${title}</h1>
${content.value}
</body>
</html>`;

  const blob = new Blob([html], { type: "text/html" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "bai-hoc-toan-tiet-" + lesson + ".html";
  a.click();
}
</script>

</body>
</html>
