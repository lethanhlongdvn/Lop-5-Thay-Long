<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8">
<title>T·∫°o b√†i h·ªçc</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#fcfbf8] font-sans">

<div class="max-w-5xl mx-auto p-6 space-y-4">

<h1 class="text-3xl font-black">‚úçÔ∏è T·∫†O B√ÄI H·ªåC</h1>

<input id="title" placeholder="Nh·∫≠p ti√™u ƒë·ªÅ b√†i h·ªçc..."
 class="w-full p-3 text-xl font-bold rounded-lg border">

<div class="flex flex-wrap gap-2 bg-white p-3 rounded-lg shadow">

<button onclick="cmd('bold')" class="px-3 py-1 border rounded font-bold">B</button>
<button onclick="cmd('italic')" class="px-3 py-1 border rounded italic">I</button>

<button onclick="insertImage()" class="px-3 py-1 border rounded">üñº ·∫¢nh</button>
<button onclick="insertVideo()" class="px-3 py-1 border rounded">üé¨ Video</button>
<button onclick="insertPPT()" class="px-3 py-1 border rounded">üìä PPT</button>
<button onclick="insertQuestion()" class="px-3 py-1 border rounded">‚ùì C√¢u h·ªèi</button>

</div>

<div id="editor" contenteditable="true"
 class="min-h-[400px] bg-white p-4 rounded-lg border leading-relaxed">
<p>üëâ Nh·∫≠p n·ªôi dung b√†i h·ªçc ·ªü ƒë√¢y...</p>
</div>

<div class="flex gap-4 pt-4">
<button onclick="preview()"
 class="bg-blue-500 text-white px-6 py-3 rounded-xl font-bold">
üëÄ Xem tr∆∞·ªõc
</button>

<button onclick="exportHTML()"
 class="bg-green-500 text-white px-6 py-3 rounded-xl font-bold">
üíæ Xu·∫•t HTML
</button>
</div>

</div>

<script>
function cmd(c) {
  document.execCommand(c, false, null);
}

function insertImage() {
  let url = prompt("D√°n link ·∫£nh:");
  if(url){
    document.execCommand("insertHTML", false,
      '<img src="' + url + '" class="my-4 rounded max-w-full">');
  }
}

function insertVideo() {
  let url = prompt("D√°n link YouTube:");
  if(!url) return;
  let id = url.split("v=")[1] || url.split("/").pop();
  document.execCommand("insertHTML", false,
    '<iframe class="my-4" width="100%" height="360" ' +
    'src="https://www.youtube.com/embed/' + id + '" ' +
    'frameborder="0" allowfullscreen></iframe>');
}

function insertPPT() {
  let url = prompt("D√°n link Google Slides:");
  if(!url) return;
  let embed = url.replace("/edit","/embed");
  document.execCommand("insertHTML", false,
    '<iframe class="my-4" src="' + embed +
    '" width="100%" height="480" allowfullscreen></iframe>');
}

function insertQuestion() {
  let q = prompt("Nh·∫≠p c√¢u h·ªèi:");
  if(!q) return;
  document.execCommand("insertHTML", false,
    '<div class="my-4 p-3 border rounded bg-yellow-50">' +
    '‚ùì <strong>' + q + '</strong>' +
    '<ul class="list-disc ml-6">' +
    '<li>A</li><li>B</li><li>C</li><li>D</li>' +
    '</ul></div>');
}

function preview() {
  let win = window.open();
  win.document.write(
    '<html><head><title>Xem tr∆∞·ªõc</title>' +
    '<script src="https://cdn.tailwindcss.com"><\/script>' +
    '</head><body class="p-6">' +
    '<h1 class="text-3xl font-bold mb-4">' +
    document.getElementById("title").value +
    '</h1>' +
    document.getElementById("editor").innerHTML +
    '</body></html>'
  );
}

function exportHTML() {
  let html =
'<!DOCTYPE html><html lang="vi"><head><meta charset="utf-8">' +
'<title>' + document.getElementById("title").value + '</title>' +
'<script src="https://cdn.tailwindcss.com"><\/script></head>' +
'<body class="bg-[#fcfbf8] p-6">' +
'<h1 class="text-3xl font-bold mb-4">' +
document.getElementById("title").value +
'</h1>' +
document.getElementById("editor").innerHTML +
'</body></html>';

  let blob = new Blob([html], {type:"text/html"});
  let a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "bai-hoc.html";
  a.click();
}
</script>

</body>
</html>
